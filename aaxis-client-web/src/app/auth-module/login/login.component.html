<!--

LOGIN COMPONENT: View

-->


<!--  Loading bar -->
<app-loading
  fullScreen="true"
  [message]="message"
  *ngIf="loading">
</app-loading>


<section *ngIf="!loading"
         class="account-container"
         fxLayout='column'
         fxLayoutAlign='center center'>

  <form
    novalidate
    autocomplete="off"
    [@visible]="visible"
    [formGroup]="user"
    (ngSubmit)="login()"
    fxLayout="column">

    <!--title-->
    <div fxLayout="row"
         fxLayoutAlign="start center">
      <h1>Login</h1>

      <span fxFlex></span>
    </div>


    <div fxLayout="row wrap"
         fxLayoutAlign="center center">

      <!-- email -->
      <mat-form-field fxFlex>
        <input type="email"
               autofocus
               matInput
               placeholder="Email"
               formControlName="username">
        <mat-error *ngIf="user.get('username').touched && user.get('username').hasError('pattern')">
          <strong>invalid email</strong>
        </mat-error>
        <mat-error *ngIf="user.get('username').touched && user.get('username').hasError('required')">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <!-- password -->
      <mat-form-field fxFlex>
        <input matInput
               type="password"
               placeholder="Password"
               formControlName="password">
        <mat-error *ngIf="user.get('password').touched && user.get('password').hasError('required')">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>

    </div>


    <!--action buttons-->
    <div fxLayout="row"
         class="action-buttons"
         fxLayoutAlign="start center">
      
      <span fxFlex></span>

      <button mat-raised-button
              color="primary"
              class="submit-button"
              type="submit"
              [disabled]="loading || user.invalid">
        LOGIN
      </button>
    </div>


  </form>

</section>
